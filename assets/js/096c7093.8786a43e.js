"use strict";(self.webpackChunkosism=self.webpackChunkosism||[]).push([[5834],{9631:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>d,toc:()=>l});var s=t(5893),r=t(3905);const i={sidebar_label:"SSH Config"},o="SSH Config",d={id:"guides/configuration-guide/commons/sshconfig",title:"SSH Config",description:"With the osism.commons.sshconfig role, it is possible to manage a SSH config",source:"@site/docs/guides/configuration-guide/commons/sshconfig.md",sourceDirName:"guides/configuration-guide/commons",slug:"/guides/configuration-guide/commons/sshconfig",permalink:"/docs/guides/configuration-guide/commons/sshconfig",draft:!1,unlisted:!1,editUrl:"https://github.com/osism/osism.github.io/tree/main/docs/guides/configuration-guide/commons/sshconfig.md",tags:[],version:"current",frontMatter:{sidebar_label:"SSH Config"},sidebar:"tutorialSidebar",previous:{title:"Services",permalink:"/docs/guides/configuration-guide/commons/services"},next:{title:"Sysctl",permalink:"/docs/guides/configuration-guide/commons/sysctl"}},c={},l=[{value:"Example",id:"example",level:2},{value:"Defaults",id:"defaults",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.ah)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"ssh-config",children:"SSH Config"}),"\n",(0,s.jsxs)(n.p,{children:["With the ",(0,s.jsx)(n.code,{children:"osism.commons.sshconfig"})," role, it is possible to manage a SSH config\nfile in the home directory of the operator user."]}),"\n",(0,s.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,s.jsxs)(n.p,{children:["In the ",(0,s.jsx)(n.a,{href:"https://github.com/osism/testbed",children:"testbed"}),"\nthe ",(0,s.jsx)(n.code,{children:"/home/dragon/.ssh/config"})," file is created on the manager node ",(0,s.jsx)(n.code,{children:"testbed-manager"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-none",metastring:'title="Example for an assembled /home/dragon/.ssh/config file"',children:"Host testbed-manager\n  HostName testbed-manager.testbed.osism.xyz\n  User dragon\n  Port 22\n  IdentityFile /opt/ansible/secrets/id_rsa.operator\n\n####################\nHost testbed-node-0\n  HostName testbed-node-0.testbed.osism.xyz\n  User dragon\n  Port 22\n  IdentityFile /opt/ansible/secrets/id_rsa.operator\n\n####################\nHost testbed-node-1\n  HostName testbed-node-1.testbed.osism.xyz\n  User dragon\n  Port 22\n  IdentityFile /opt/ansible/secrets/id_rsa.operator\n\n####################\nHost testbed-node-2\n  HostName testbed-node-2.testbed.osism.xyz\n  User dragon\n  Port 22\n  IdentityFile /opt/ansible/secrets/id_rsa.operator\n"})}),"\n",(0,s.jsx)(n.h2,{id:"defaults",children:"Defaults"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Parameter"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Default"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Description"})})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"sshconfig_groupname"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"all"})}),(0,s.jsx)(n.td,{children:"All nodes in this group are included."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"sshconfig_order"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"20"})}),(0,s.jsxs)(n.td,{children:["The ",(0,s.jsx)(n.code,{children:".ssh/config.d"})," directory is used to prepare the ",(0,s.jsx)(n.code,{children:".ssh/config"})," file. You can add your own files in this directory. Everything with a filename prefix smaller than ",(0,s.jsx)(n.code,{children:"sshconfig_order"})," is placed at the beginning of the assembled ",(0,s.jsx)(n.code,{children:".ssh/config"})," file. Anything with a filename prefix greater than ",(0,s.jsx)(n.code,{children:"sshconfig_order"})," goes at the end."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"sshconfig_port"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"22"})}),(0,s.jsx)(n.td,{children:"The SSH port."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"sshconfig_private_key_file"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/opt/ansible/secrets/id_rsa.operator"})}),(0,s.jsxs)(n.td,{children:["The identity file to use. The file itself must already exist there. The file is created by the ",(0,s.jsx)(n.code,{children:"osism.services.manager"})," role."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"sshconfig_user"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"{{ operator_user }}"'})}),(0,s.jsxs)(n.td,{children:["The user in which home directory the ",(0,s.jsx)(n.code,{children:".ssh/config"})," file will be generated."]})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,r.ah)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},3905:(e,n,t)=>{t.d(n,{ah:()=>l});var s=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if(null==e)return{};var t,s,r=function(e,n){if(null==e)return{};var t,s,r={},i=Object.keys(e);for(s=0;s<i.length;s++)t=i[s],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=s.createContext({}),l=function(e){var n=s.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},a={inlineCode:"code",wrapper:function(e){var n=e.children;return s.createElement(s.Fragment,{},n)}},h=s.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,h=d(e,["components","mdxType","originalType","parentName"]),g=l(t),f=r,u=g["".concat(c,".").concat(f)]||g[f]||a[f]||i;return t?s.createElement(u,o(o({ref:n},h),{},{components:t})):s.createElement(u,o({ref:n},h))}));h.displayName="MDXCreateElement"}}]);