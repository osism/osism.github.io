"use strict";(self.webpackChunkosism=self.webpackChunkosism||[]).push([[9377],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=u(n),m=o,h=p["".concat(s,".").concat(m)]||p[m]||c[m]||i;return n?r.createElement(h,a(a({ref:t},d),{},{components:n})):r.createElement(h,a({ref:t},d))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:o,a[1]=l;for(var u=2;u<i;u++)a[u]=n[u];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6216:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var r=n(7462),o=(n(7294),n(3905));const i={sidebar_label:"Configuration repository",sidebar_position:10},a="Configuration Repository",l={unversionedId:"guides/configuration-guide/configuration-repository",id:"guides/configuration-guide/configuration-repository",title:"Configuration Repository",description:"The configuration required for OSISM is stored in a single Git monorepo, the configuration repository.",source:"@site/docs/guides/configuration-guide/configuration-repository.md",sourceDirName:"guides/configuration-guide",slug:"/guides/configuration-guide/configuration-repository",permalink:"/docs/guides/configuration-guide/configuration-repository",draft:!1,editUrl:"https://github.com/osism/osism.github.io/tree/main/docs/guides/configuration-guide/configuration-repository.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_label:"Configuration repository",sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"Configuration Guide",permalink:"/docs/guides/configuration-guide/"},next:{title:"Inventory",permalink:"/docs/guides/configuration-guide/inventory"}},s={},u=[{value:"Configuration repository layout",id:"configuration-repository-layout",level:2},{value:"Creating a new configuration repository",id:"creating-a-new-configuration-repository",level:2},{value:"Git repository",id:"git-repository",level:3},{value:"Creation",id:"creation",level:3},{value:"Use of a stable release",id:"use-of-a-stable-release",level:3},{value:"Make commit",id:"make-commit",level:3},{value:"Post-processing",id:"post-processing",level:3},{value:"Notes",id:"notes",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Preparing a new configuration repository",id:"preparing-a-new-configuration-repository",level:2},{value:"Manager environment",id:"manager-environment",level:3},{value:"Inventory",id:"inventory",level:3}],d={toc:u},p="wrapper";function c(e){let{components:t,...n}=e;return(0,o.kt)(p,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"configuration-repository"},"Configuration Repository"),(0,o.kt)("p",null,"The configuration required for OSISM is stored in a single Git monorepo, the configuration repository."),(0,o.kt)("h2",{id:"configuration-repository-layout"},"Configuration repository layout"),(0,o.kt)("p",null,"A configuration repository is always composed of the same basic layout."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"environments")," directory"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"inventory")," directory"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"netbox")," directory (optional)"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"requirements.txt")," file")),(0,o.kt)("p",{parentName:"li"},"In the ",(0,o.kt)("inlineCode",{parentName:"p"},"requirements.txt")," the necessary dependencies are listed to be able to execute Gilt.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"gilt.yml")," file")),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("a",{parentName:"p",href:"https://gilt.readthedocs.io"},"Gilt")," is a Git layering tool. We use Gilt to maintain the image versions,\nAnsible configuration and scripts within the ",(0,o.kt)("inlineCode",{parentName:"p"},"environments/manager")," directory."),(0,o.kt)("p",{parentName:"li"},"The ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/osism/cfg-generics/blob/main/gilt.yml"},"current gilt.yml")," file is always\nlocated in the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/osism/cfg-generics"},"osism/cfg-generics")," repository."),(0,o.kt)("p",{parentName:"li"},"To use Gilt the dependencies are installed first."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"pip3 install -r requirements.txt\n")),(0,o.kt)("p",{parentName:"li"},"After that you can update the manager environment in ",(0,o.kt)("inlineCode",{parentName:"p"},"environments/manager"),". Since the ",(0,o.kt)("inlineCode",{parentName:"p"},"gilt.yml"),"\nitself is updated with Gilt it is always important to run the command twice."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"gilt overlay\ngilt overlay\n")),(0,o.kt)("p",{parentName:"li"},"If a stable OSISM release is used, the version to be used is specified by ",(0,o.kt)("inlineCode",{parentName:"p"},"MANAGER_VERSION"),".\nIn the example, OSISM release 6.0.0 is used. The current stable release is listed at\n",(0,o.kt)("a",{parentName:"p",href:"https://release.osism.tech/"},"release.osism.tech"),". Always check there in advance and do not\ncopy the stable release used here as an example. More detail about this in\n",(0,o.kt)("a",{parentName:"p",href:"manager#stable-release"},"Configuration Guide > Manager > Stable release"),"."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"MANAGER_VERSION=6.0.0 gilt overlay\nMANAGER_VERSION=6.0.0 gilt overlay\n")))),(0,o.kt)("h2",{id:"creating-a-new-configuration-repository"},"Creating a new configuration repository"),(0,o.kt)("p",null,"The initial content for this repository is generated using the\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/osism/cfg-cookiecutter"},"cookiecutter"),"."),(0,o.kt)("h3",{id:"git-repository"},"Git repository"),(0,o.kt)("p",null,"The content generated by the cookiecutter in the ",(0,o.kt)("inlineCode",{parentName:"p"},"output/configuration")," directory is\ncommitted to a new Git repository. By default, it is assumed that the configuration\nrepository is stored on GitHub. This can also be GitLab or an internal Git service\nas well."),(0,o.kt)("p",null,"Host and path to the Git repository are specified via the ",(0,o.kt)("inlineCode",{parentName:"p"},"git_")," parameters: The\n",(0,o.kt)("inlineCode",{parentName:"p"},"git_")," parameters do not specify the path to the cookiecutter to use."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"  [8/20] git_host (github.com):\n  [9/20] git_port (22):\n  [10/20] git_repository (YOUR_ORG/YOUR_NEW_CONFIGURATION_REPOSITORY): regiocloud/configuration\n  [11/20] git_username (git):\n  [12/20] git_version (main):\n")),(0,o.kt)("p",null,"In this case, the generated configuration in the ",(0,o.kt)("inlineCode",{parentName:"p"},"output/configuration")," directory is\nstored on GitHub in the ",(0,o.kt)("inlineCode",{parentName:"p"},"regiocloud/configuration")," repository."),(0,o.kt)("h3",{id:"creation"},"Creation"),(0,o.kt)("p",null,"In this example a new configuration repository is created with the defaults. The latest versions of\nOSISM are used. The use of a stable release is described in the section\n",(0,o.kt)("a",{parentName:"p",href:"#use-of-a-stable-release"},"Use of a stable release"),"."),(0,o.kt)("p",null,"The directory ",(0,o.kt)("inlineCode",{parentName:"p"},"output")," is created and used as output volume."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"mkdir output\n")),(0,o.kt)("p",null,"The cookiecutter is executed within a container. Docker must be usable on the system\non which the cookiecutter is to be used. It should also work with podman."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"docker run --rm -v $(pwd)/output:/output -it quay.io/osism/cookiecutter\n[1/20] with_ceph (1):\n[2/20] ceph_network_backend (192.168.80.0/20):\n[3/20] ceph_network_frontend (192.168.64.0/20):\n[4/20] ceph_version (quincy):\n[5/20] domain (osism.xyz):\n[6/20] fqdn_external (api.osism.xyz):\n[7/20] fqdn_internal (api-int.osism.xyz):\n[8/20] git_host (github.com):\n[9/20] git_port (22):\n[10/20] git_repository (YOUR_ORG/YOUR_NEW_CONFIGURATION_REPOSITORY):\n[11/20] git_username (git):\n[12/20] git_version (main):\n[13/20] ip_external (192.168.96.9):\n[14/20] ip_internal (192.168.32.9):\n[15/20] manager_version (latest):\n[16/20] name_server (149.112.112.112):\n[17/20] ntp_server (de.pool.ntp.org):\n[18/20] openstack_version (2023.1):\n[19/20] project_name (configuration):\n[...]\n")),(0,o.kt)("p",null,"Since we run the cookiecutter inside a container, the user rights are not correct\nafterwards and have to be changed."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"sudo chown -R $USER: output/\n")),(0,o.kt)("h3",{id:"use-of-a-stable-release"},"Use of a stable release"),(0,o.kt)("p",null,"When you want to use a stable release this is done via the parameter ",(0,o.kt)("inlineCode",{parentName:"p"},"manager_version"),".\nBy default, this is always set to ",(0,o.kt)("inlineCode",{parentName:"p"},"latest"),". If, for example, the stable release ",(0,o.kt)("inlineCode",{parentName:"p"},"6.0.0"),"\nis to be used, the value for this parameter is set to ",(0,o.kt)("inlineCode",{parentName:"p"},"6.0.0"),"."),(0,o.kt)("p",null,"The current stable release is listed at ",(0,o.kt)("a",{parentName:"p",href:"https://release.osism.tech/"},"release.osism.tech"),".\nAlways check there in advance and do not copy the stable release used here as an example."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"manager_version [latest]: 6.0.0\n")),(0,o.kt)("p",null,"If the ",(0,o.kt)("inlineCode",{parentName:"p"},"manager_version")," parameter is set to a stable release then it is no longer necessary\nto set the ",(0,o.kt)("inlineCode",{parentName:"p"},"ceph_version")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"openstack_version")," parameters. These are then no longer needed\nand are ignored. The used versions result from the ",(0,o.kt)("inlineCode",{parentName:"p"},"manager_version"),"."),(0,o.kt)("h3",{id:"make-commit"},"Make commit"),(0,o.kt)("p",null,"The content is now committed to the previously created Git repository."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'$ git clone git@github.com:YOUR_ORG/YOUR_NEW_CONFIGURATION_REPOSITORY.git YOUR_NEW_CONFIGURATION_REPOSITORY\n$ cp -r output/configuration/* output/configuration/.gitignore YOUR_NEW_CONFIGURATION_REPOSITORY\n$ cd YOUR_NEW_CONFIGURATION_REPOSITORY\n$ git add .gitignore *\n$ git commit -m "Initial commit"\n$ git push\n')),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"secrets")," directory is not stored in the Git repository. Its contents can be\nstored in a suitable location."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"secrets")," directory contains an SSH key pair which is used as a deploy key to\nmake the configuration repository available on the manager node later. Write access\nis not required. The public SSH key is stored in the file ",(0,o.kt)("inlineCode",{parentName:"p"},"secrets/id_rsa.configuration.pub"),"."),(0,o.kt)("p",null,"How to add a deploy key on GitHub is documented in\n",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/authentication/connecting-to-github-with-ssh/managing-deploy-keys"},"Managing deploy keys"),"."),(0,o.kt)("h3",{id:"post-processing"},"Post-processing"),(0,o.kt)("p",null,"The configuration repository that is initially created with the Cookiecutter is not directly usable.\nFor example, the inventory needs to be built. All further information can be found in the\n",(0,o.kt)("a",{parentName:"p",href:"./"},"Configuration Guide"),"."),(0,o.kt)("h3",{id:"notes"},"Notes"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"The password for Ansible Vault encrypted files, ist stored at ",(0,o.kt)("inlineCode",{parentName:"li"},"secrets/vaultpass"),"."),(0,o.kt)("li",{parentName:"ul"},"The password of the generated Keepass file is ",(0,o.kt)("inlineCode",{parentName:"li"},"password"),". This has to be changed.")),(0,o.kt)("h3",{id:"parameters"},"Parameters"),(0,o.kt)("table",null,(0,o.kt)("tr",null,(0,o.kt)("th",null,"Parameter"),(0,o.kt)("th",null,"Description"),(0,o.kt)("th",null,"Default")),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"ceph_network_backend")),(0,o.kt)("td",null,"Address range for ceph's backend network"),(0,o.kt)("td",null,(0,o.kt)("code",null,"192.168.80.0/20"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"ceph_network_frontend")),(0,o.kt)("td",null,"Address range for ceph's frontend network"),(0,o.kt)("td",null,(0,o.kt)("code",null,"192.168.64.0/20"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"ceph_version")),(0,o.kt)("td",null,"The version of Ceph. When using a stable OSISM release (",(0,o.kt)("code",null,"manager_version != latest"),"), this value is ignored."),(0,o.kt)("td",null,(0,o.kt)("code",null,"quincy"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"domain")),(0,o.kt)("td",null,"The domain used by hostnames"),(0,o.kt)("td",null,(0,o.kt)("code",null,"osism.xyz"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"fqdn_external")),(0,o.kt)("td",null,"External API FQDN"),(0,o.kt)("td",null,(0,o.kt)("code",null,"api.osism.xyz"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"fqdn_internal")),(0,o.kt)("td",null,"Internal API FQDN"),(0,o.kt)("td",null,(0,o.kt)("code",null,"api-int.osism.xyz"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"git_host")),(0,o.kt)("td",null,"Address of the used Git server"),(0,o.kt)("td",null,(0,o.kt)("code",null,"github.com"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"git_port")),(0,o.kt)("td",null,"Port of the used Git server"),(0,o.kt)("td",null,(0,o.kt)("code",null,"22"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"git_repository")),(0,o.kt)("td",null,"Path to the git configuration repository"),(0,o.kt)("td",null,(0,o.kt)("code",null,"YOUR_ORG/YOUR_NEW_CONFIGURATION_REPOSITORY"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"git_username")),(0,o.kt)("td",null,"Username of the git repository"),(0,o.kt)("td",null,(0,o.kt)("code",null,"git"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"git_version")),(0,o.kt)("td",null,"Git branch name"),(0,o.kt)("td",null,(0,o.kt)("code",null,"main"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"ip_external")),(0,o.kt)("td",null,"The external IP address of the API (resolves to ",(0,o.kt)("code",null,"fqdn_external"),")"),(0,o.kt)("td",null,(0,o.kt)("code",null,"192.168.96.9"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"ip_internal")),(0,o.kt)("td",null,"The internal IP address of the API (resolves to ",(0,o.kt)("code",null,"fqdn_internal"),")"),(0,o.kt)("td",null,(0,o.kt)("code",null,"192.168.32.9"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"manager_version")),(0,o.kt)("td",null,"The version of OSISM. An overview of available OSISM releases can be found on ",(0,o.kt)("a",{href:"https://release.osism.tech"},"release.osism.tech"),"."),(0,o.kt)("td",null,(0,o.kt)("code",null,"latest"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"name_server")),(0,o.kt)("td",null,"Nameserver. Only one nameserver is set here because the query of multiple values in Cooiecutter is weird. Add more nameservers afterwards."),(0,o.kt)("td",null,(0,o.kt)("code",null,"149.112.112.112"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"ntp_server")),(0,o.kt)("td",null,"NTP server. Only one NTP server is set here because the query of multiple values in Cooiecutter is weird. Add more NTP servers afterwards."),(0,o.kt)("td",null,(0,o.kt)("code",null,"de.pool.ntp.org"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"openstack_version")),(0,o.kt)("td",null,"The version of OpenStack. When using a stable OSISM release (",(0,o.kt)("code",null,"manager_version != latest"),"), this value is ignored."),(0,o.kt)("td",null,(0,o.kt)("code",null,"2023.1"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"project_name")),(0,o.kt)("td",null,"Name of the configuration repository directory"),(0,o.kt)("td",null,(0,o.kt)("code",null,"configuration"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,(0,o.kt)("code",null,"with_ceph")),(0,o.kt)("td",null,"1 to use Ceph, 0 to not use Ceph"),(0,o.kt)("td",null,(0,o.kt)("code",null,"1")))),(0,o.kt)("h2",{id:"preparing-a-new-configuration-repository"},"Preparing a new configuration repository"),(0,o.kt)("h3",{id:"manager-environment"},"Manager environment"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-none",metastring:'title="environments/manager/hosts"',title:'"environments/manager/hosts"'},"[manager]\nmanager01\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="environments/manager/host_vars/manager01.yml"',title:'"environments/manager/host_vars/manager01.yml"'},'---\n##########################################################\n# ansible\n\nansible_host: 192.168.16.5\n\n##########################################################\n# generic\n\ninternal_interface: eno1\n\n##########################################################\n# network\n\nnetwork_type: netplan\nnetwork_ethernets:\n  eno1:\n    addresses:\n      - "192.168.16.10/20"\n    gateway4: "192.168.16.1"\n    mtu: 1500\n')),(0,o.kt)("h3",{id:"inventory"},"Inventory"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-none",metastring:'title="inventory/20-roles"',title:'"inventory/20-roles"'},'##########################################################\n# roles\n\n# NOTE: If netbox is not used, nothing needs to be changed here. In\n#       this case this inventory is used as before. The hosts are\n#       then managed here as normal.\n#\n#       If netbox is used this file is only used to store the hosts\n#       for the initial import into the netbox.\n#\n#       After the initial import of the inventory in the netbox,\n#       the groups in this file can be emptied. The systems are\n#       then assigned to their roles via tags in the netbox.\n\n# The "all" group is not used in OSISM. Therefore it is important\n# that all nodes are explicitly listed here.\n[generic]\nnode01\n\n# Nodes that act as manager (sometimes called deployment node)\n# are included in this group.\n[manager]\nmanager01\n\n# Nodes which are intended for monitoring services belong to\n# this group\n[monitoring]\n\n# Nodes that serve as controllers, so things like scheduler,\n# API or database run there, of the environment.\n[control]\n\n# Virtual systems managed by OpenStack Nova are placed on\n# nodes in this group.\n[compute]\n\n# Network resources managed by OpenStack Neutron, such as\n# L3 routers, are placed on these nodes. This group has nothing\n# to do with the general network configuration.\n[network]\n\n# Nodes that serve as controllers for Ceph, so things like the\n# Ceph Monitor service run here.\n[ceph-control]\n\n# The storage available in these systems is provided in the\n# form of OSDs for Ceph.\n[ceph-resource]\n\n# NOTE: These empty groups are only necessary if netbox is used. After\n#       the initial import of the hosts these groups can be commented\n#       out. The groups above with the initial hosts can be commented.\n#\n# [generic]\n#\n# [manager]\n#\n# [monitoring]\n#\n# [control]\n#\n# [compute]\n#\n# [network]\n#\n# [ceph-control]\n#\n# [ceph-resource]\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="inventory/host_vars/node01.yml"',title:'"inventory/host_vars/node01.yml"'},'---\n##########################################################\n# ansible\n\n# NOTE: Address where the node can be reached via SSH.\nansible_host: 192.168.16.10\n\n##########################################################\n# generic\n\ninternal_interface: eno1\n\n# NOTE: The address of the internal interface.\ninternal_address: 192.168.16.10\n\n##########################################################\n# netdata\n\nnetdata_host_type: client\n\n# NOTE: Uncomment this when this node should be a Netdata server.\n\n# netdata_host_type: server\n\n##########################################################\n# network\n\n# NOTE: This is the initial management interface. Further interfaces\n#       must be added.\n\nnetwork_type: netplan\nnetwork_ethernets:\n  eno1:\n    addresses:\n      - "192.168.16.10/20"\n    gateway4: "192.168.16.1"\n    mtu: 1500\n\n##########################################################\n# kolla\n\nnetwork_interface: eno1\n\n# api_interface:\n# bifrost_network_interface:\n# dns_interface:\n# kolla_external_vip_interface:\n# migration_interface:\n# neutron_external_interface:\n# octavia_network_interface:\n# storage_interface:\n# tunnel_interface:\n\n##########################################################\n# ceph\n\n# NOTE: Uncomment this when this node is a part of the Ceph cluster.\n\n# monitor_address:\n# radosgw_address:\n\n# monitor_interface:\n# radosgw_interface:\n\n# NOTE: Uncomment this when this node should be a OSD node.\n\n# devices:\n#   - /dev/sdb\n#   - /dev/sdc\n#   - /dev/sdd\n#   - /dev/sde\n')))}c.isMDXComponent=!0}}]);