"use strict";(self.webpackChunkosism=self.webpackChunkosism||[]).push([[1336],{7964:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>l,frontMatter:()=>r,metadata:()=>c,toc:()=>h});var n=i(5893),t=i(1151);const r={sidebar_label:"Scripts",sidebar_position:20},o="Scripts",c={id:"guides/other-guides/developer-guide/scripts",title:"Scripts",description:"Scripts are included in container images to simplify",source:"@site/docs/guides/other-guides/developer-guide/scripts.md",sourceDirName:"guides/other-guides/developer-guide",slug:"/guides/other-guides/developer-guide/scripts",permalink:"/docs/guides/other-guides/developer-guide/scripts",draft:!1,unlisted:!1,editUrl:"https://github.com/osism/osism.github.io/tree/main/docs/guides/other-guides/developer-guide/scripts.md",tags:[],version:"current",sidebarPosition:20,frontMatter:{sidebar_label:"Scripts",sidebar_position:20},sidebar:"tutorialSidebar",previous:{title:"Releases",permalink:"/docs/guides/other-guides/developer-guide/releases"},next:{title:"Zuul Ci",permalink:"/docs/guides/other-guides/developer-guide/zuul-ci"}},d={},h=[{value:"change-osism.sh",id:"change-osismsh",level:2},{value:"change.sh",id:"changesh",level:2}];function a(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"scripts",children:"Scripts"}),"\n",(0,n.jsx)(s.p,{children:"Scripts are included in container images to simplify\ndevelopment work and to enable testing and hotfixes in running\nenvironments.\nWhat scripts are available and how to use them is described in\nthis section."}),"\n",(0,n.jsx)(s.h2,{id:"change-osismsh",children:"change-osism.sh"}),"\n",(0,n.jsxs)(s.p,{children:["With the ",(0,n.jsx)(s.code,{children:"change-osism.sh"})," script it is possible to bring the\n",(0,n.jsx)(s.a,{href:"https://pypi.org/project/osism/",children:"Python package osism"})," to a\ndevelopment state from the\n",(0,n.jsx)(s.a,{href:"https://github.com/osism/python-osism",children:"osism/python-osism"}),"\nrepository."]}),"\n",(0,n.jsxs)(s.p,{children:["Here, the script is used in the running inventory reconciler\nservice to install the branch ",(0,n.jsx)(s.code,{children:"main"})," of\n",(0,n.jsx)(s.a,{href:"https://github.com/osism/python-osism",children:"osism/python-osism"}),".\nInstead of ",(0,n.jsx)(s.code,{children:"main"}),", any branch can be used."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"docker exec -u root -it manager-inventory_reconciler-1 /change-osism.sh main\n"})}),"\n",(0,n.jsx)(s.p,{children:"It is important to restart the container afterwards."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"docker restart manager-inventory_reconciler-1\n"})}),"\n",(0,n.jsx)(s.p,{children:"The script is included in the following container images:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"osism/ceph-ansible (used by the service ceph-ansible)"}),"\n",(0,n.jsx)(s.li,{children:"osism/inventory-reconciler (used by the service manager-inventory_reconciler-1)"}),"\n",(0,n.jsx)(s.li,{children:"osism/kolla-ansible (used by the service kolla-ansible)"}),"\n",(0,n.jsx)(s.li,{children:"osism/osism-ansible (used by the service osism-ansible)"}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"changesh",children:"change.sh"}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.code,{children:"change.sh"})," script is used to bring the main core of an image\nto a certain state."]}),"\n",(0,n.jsxs)(s.p,{children:["In all containers that use the ",(0,n.jsx)(s.a,{href:"https://quay.io/repository/osism/osism",children:"osism image"}),",\nsuch as ",(0,n.jsx)(s.code,{children:"osismclient"}),", the behavior of this script is identical to the behavior of\n",(0,n.jsx)(s.code,{children:"change-osism.sh"})," script as described before."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"docker exec -u root -it osismclient /change.sh main\n"})})]})}function l(e={}){const{wrapper:s}={...(0,t.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},1151:(e,s,i)=>{i.d(s,{Z:()=>c,a:()=>o});var n=i(7294);const t={},r=n.createContext(t);function o(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);