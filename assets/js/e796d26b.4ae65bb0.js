"use strict";(globalThis.webpackChunkosism=globalThis.webpackChunkosism||[]).push([[7644],{689:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"release-notes/osism-10","title":"OSISM 10","description":"The OSISM 10 release notes are still a work in progress and not yet complete.","source":"@site/docs/release-notes/osism-10.md","sourceDirName":"release-notes","slug":"/release-notes/osism-10","permalink":"/docs/release-notes/osism-10","draft":false,"unlisted":false,"editUrl":"https://github.com/osism/osism.github.io/tree/main/docs/release-notes/osism-10.md","tags":[],"version":"current","frontMatter":{"sidebar_label":"OSISM 10"},"sidebar":"tutorialSidebar","previous":{"title":"Release Notes","permalink":"/docs/release-notes/"},"next":{"title":"OSISM 7","permalink":"/docs/release-notes/osism-7"}}');var t=n(4848),i=n(8453);const o={sidebar_label:"OSISM 10"},a="OSISM 10",l={},c=[{value:"10.0.0",id:"1000",level:2},{value:"Upgrade nodes",id:"upgrade-nodes",level:3},{value:"RabbitMQ 3 to RabbitMQ 4 migration",id:"rabbitmq-3-to-rabbitmq-4-migration",level:4},{value:"New namespace for Kolla images",id:"new-namespace-for-kolla-images",level:4},{value:"New container registry",id:"new-container-registry",level:4},{value:"New service names for RadosGW in Ceph Reef",id:"new-service-names-for-radosgw-in-ceph-reef",level:4},{value:"Removal of the community.general.yaml Ansible plugin",id:"removal-of-the-communitygeneralyaml-ansible-plugin",level:4},{value:"TLS for ProxySQL is now enabled by default",id:"tls-for-proxysql-is-now-enabled-by-default",level:4},{value:"References",id:"references",level:2},{value:"Ceph 18.2 (Reef)",id:"ceph-182-reef",level:3},{value:"OpenStack 2025.1 (Epoxy)",id:"openstack-20251-epoxy",level:3}];function d(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"osism-10",children:"OSISM 10"})}),"\n",(0,t.jsx)(s.admonition,{type:"info",children:(0,t.jsx)(s.p,{children:"The OSISM 10 release notes are still a work in progress and not yet complete."})}),"\n",(0,t.jsxs)(s.p,{children:["Instructions for the upgrade can be found in the ",(0,t.jsx)(s.a,{href:"/docs/guides/upgrade-guide/manager",children:"Upgrade Guide"}),"."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Release"}),(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Release Date"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.a,{href:"#1000",children:"10.0.0"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"}})]})})]}),"\n",(0,t.jsx)(s.h2,{id:"1000",children:"10.0.0"}),"\n",(0,t.jsx)(s.h3,{id:"upgrade-nodes",children:"Upgrade nodes"}),"\n",(0,t.jsx)(s.h4,{id:"rabbitmq-3-to-rabbitmq-4-migration",children:"RabbitMQ 3 to RabbitMQ 4 migration"}),"\n",(0,t.jsx)(s.p,{children:"OSISM 10 only supports RabbitMQ 4. This requires a mandatory switch to quorum\nqueues if this has not already been done."}),"\n",(0,t.jsxs)(s.p,{children:["If you were already using quorum queues with RabbitMQ 3, migrating from RabbitMQ 3\nto RabbitMQ 4 is easy. Run ",(0,t.jsx)(s.code,{children:"osism apply -a upgrade rabbitmq"}),". Most of the existing\nold classic queues are automatically removed when upgrading the individual OpenStack\nservices afterwards. After completing all upgrades, run ",(0,t.jsx)(s.code,{children:"osism migrate rabbitmq3to4 delete"}),"\nto remove old classic queues."]}),"\n",(0,t.jsxs)(s.p,{children:["If you are unsure whether you are already using quorum queues or not, first make the upgrade\nfrom the Manager service. Then run ",(0,t.jsx)(s.code,{children:"osism migrate rabbitmq3to4 check"}),"."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"$ osism migrate rabbitmq3to4 check\n2025-12-03 21:04:33 | INFO     | Connecting to RabbitMQ Management API at 192.168.16.10:15672 (node: testbed-node-0) as openstack...\n2025-12-03 21:04:33 | INFO     | Found 210 classic queue(s)\n2025-12-03 21:04:33 | INFO     | Found 0 quorum queue(s)\n2025-12-03 21:04:33 | INFO     |   - 210 classic queue(s) in vhost /\n2025-12-03 21:04:33 | INFO     | Migration is REQUIRED: Only classic queues found, no quorum queues\n"})}),"\n",(0,t.jsxs)(s.p,{children:["If you have not used quorum queues before, here is our recommended procedure. This creates\na new RabbitMQ vHost ",(0,t.jsx)(s.code,{children:"openstack"})," that uses quorum queues by default and then moves all\nqueues there when upgrading the services."]}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"If not already done upgrade the Manager service as usual."}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Remove the ",(0,t.jsx)(s.code,{children:"om_enable_rabbitmq_quorum_queues"})," parameter from ",(0,t.jsx)(s.code,{children:"environments/kolla/configuration.yml"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Add the ",(0,t.jsx)(s.code,{children:"om_rpc_vhost: openstack"})," parameter in ",(0,t.jsx)(s.code,{children:"environments/kolla/configuration.yml"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Add the ",(0,t.jsx)(s.code,{children:"om_notify_vhost: openstack"})," parameter in ",(0,t.jsx)(s.code,{children:"environments/kolla/configuration.yml"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Upgrade RabbitMQ with ",(0,t.jsx)(s.code,{children:"osism apply -a upgrade rabbitmq"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Prepare a new RabbitMQ vHost that uses quorum queues by default with ",(0,t.jsx)(s.code,{children:"osism migrate rabbitmq3to4 prepare"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Upgrade the services that use RabbitMQ and delete the old queues afterwards. For aodh, for example, first\nrun the upgrade with ",(0,t.jsx)(s.code,{children:"osism apply -a upgrade aodh"})," and then remove the classic queues."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"$ osism migrate rabbitmq3to4 delete aodh\n2025-12-02 20:55:27 | INFO     | Connecting to RabbitMQ Management API at 192.168.16.10:15672 (node: testbed-node-0) as openstack...\n2025-12-02 20:55:27 | INFO     | Found 2 classic queue(s) for service 'aodh' in vhost '/'\n2025-12-02 20:55:27 | INFO     | Deleted queue: alarm.all.sample\n2025-12-02 20:55:27 | INFO     | Deleted queue: alarming.sample\n2025-12-02 20:55:27 | INFO     | Successfully deleted 2 queue(s) for service 'aodh' in vhost '/'\n"})}),"\n",(0,t.jsx)(s.p,{children:"These services use RabbitMQ:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"aodh"}),"\n",(0,t.jsx)(s.li,{children:"barbican"}),"\n",(0,t.jsx)(s.li,{children:"ceilometer"}),"\n",(0,t.jsx)(s.li,{children:"cinder"}),"\n",(0,t.jsx)(s.li,{children:"designate"}),"\n",(0,t.jsx)(s.li,{children:"magnum"}),"\n",(0,t.jsx)(s.li,{children:"manila"}),"\n",(0,t.jsx)(s.li,{children:"neutron"}),"\n",(0,t.jsx)(s.li,{children:"nova"}),"\n",(0,t.jsx)(s.li,{children:"octavia"}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["After upgrading all services, you can also delete all remaining classic queues at once using\n",(0,t.jsx)(s.code,{children:"osism migrate rabbitmq3to4 delete"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Once everything has been upgraded, the old notification queues can be deleted with\n",(0,t.jsx)(s.code,{children:"osism migrate rabbitmq3to4 delete notifications"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["When the Manager's listener service is used (",(0,t.jsx)(s.code,{children:"enable_listener"})," in ",(0,t.jsx)(s.code,{children:"environments/manager/configuration.yml"}),")\nadd the new ",(0,t.jsx)(s.code,{children:"openstack"})," RabbitMQ vhost to the ",(0,t.jsx)(s.code,{children:"manager_listener_broker_uri"})," parameter.\nThen update the manager with ",(0,t.jsx)(s.code,{children:"osism update manager"})," and delete the old queues with\n",(0,t.jsx)(s.code,{children:"osism migrate rabbitmq3to4 delete manager"}),"."]}),"\n",(0,t.jsx)(s.p,{children:"Finally, you can re-run the check command. There should now be no more classic queues."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"$ osism migrate rabbitmq3to4 check\n2025-12-04 08:38:58 | INFO     | Connecting to RabbitMQ Management API at 192.168.16.10:15672 (node: testbed-node-0) as openstack...\n2025-12-04 08:38:58 | INFO     | Found 0 classic queue(s)\n2025-12-04 08:38:58 | INFO     | Found 216 quorum queue(s)\n2025-12-04 08:38:58 | INFO     |   - 216 quorum queue(s) in vhost openstack\n2025-12-04 08:38:58 | INFO     | Migration is NOT required: Only quorum queues found\n"})}),"\n",(0,t.jsx)(s.h4,{id:"new-namespace-for-kolla-images",children:"New namespace for Kolla images"}),"\n",(0,t.jsxs)(s.p,{children:["To make it easier to identify which OpenStack version is being used, the OpenStack version is\nnow included in the Kolla Image namespace. An existing ",(0,t.jsx)(s.code,{children:"docker_namespace"})," parameter must be adjusted\naccordingly."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-yaml",metastring:'title="environments/kolla/configuration.yml"',children:"docker_namespace: kolla/release/2025.1\n"})}),"\n",(0,t.jsx)(s.h4,{id:"new-container-registry",children:"New container registry"}),"\n",(0,t.jsx)(s.p,{children:"Container images are no longer pushed to Quay.io and are only made available on our own\ncontainer registry. During the transition phase, the new container registry must be made\nknown in the configuration repository. In the future these parameters can be removed again."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-yaml",metastring:'title="environments/manager/configuration.yml"',children:"docker_registry: index.docker.io\ndocker_registry_ansible: registry.osism.tech\ndocker_registry_netbox: registry.osism.tech\n"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-yaml",metastring:'title="inventory/group_vars/all/registries.yml"',children:"ceph_docker_registry: registry.osism.tech\ndnsmasq_docker_registry: registry.osism.tech\ndocker_registry_ansible: registry.osism.tech\ndocker_registry_cephclient: registry.osism.tech\ndocker_registry_cgit: registry.osism.tech\ndocker_registry_dnsdist: registry.osism.tech\ndocker_registry_homer: registry.osism.tech\ndocker_registry_kolla: registry.osism.tech\ndocker_registry_netbox: registry.osism.tech\ndocker_registry_nexus: registry.osism.tech\ndocker_registry_openstackclient: registry.osism.tech\n"})}),"\n",(0,t.jsx)(s.h4,{id:"new-service-names-for-radosgw-in-ceph-reef",children:"New service names for RadosGW in Ceph Reef"}),"\n",(0,t.jsx)(s.p,{children:"The naming scheme for the Ceph RadosGW service was changed from"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"rgw.$HOSTNAME.$INSTANCE\n"})}),"\n",(0,t.jsx)(s.p,{children:"to"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"rgw.$ZONE.$HOSTNAME.$INSTANCE\n"})}),"\n",(0,t.jsxs)(s.p,{children:["Please adapt any ",(0,t.jsx)(s.code,{children:"client"})," entries in ",(0,t.jsx)(s.code,{children:"ceph_config_overrides"})," in ",(0,t.jsx)(s.code,{children:"environments/ceph/configuration.yml"}),"\naccordingly. E.g. if you previously had"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-yaml",metastring:'title="environments/ceph/configuration.yml"',children:"ceph_conf_overrides:\n  \"client.rgw.{{ hostvars[inventory_hostname]['ansible_hostname'] }}.rgw0\":\n"})}),"\n",(0,t.jsx)(s.p,{children:"change it to"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-yaml",metastring:'title="environments/ceph/configuration.yml"',children:"ceph_conf_overrides:\n  \"client.rgw.{{ rgw_zone }}.{{ hostvars[inventory_hostname]['ansible_hostname'] }}.rgw0\":\n"})}),"\n",(0,t.jsx)(s.h4,{id:"removal-of-the-communitygeneralyaml-ansible-plugin",children:"Removal of the community.general.yaml Ansible plugin"}),"\n",(0,t.jsxs)(s.p,{children:["If ",(0,t.jsx)(s.code,{children:"community.general.yaml"})," has been set for ",(0,t.jsx)(s.code,{children:"stdout_callback"})," in ",(0,t.jsx)(s.code,{children:"ansible.cfg"}),",\nthis entry must be removed and replaced with ",(0,t.jsx)(s.code,{children:"result_format=yaml"}),"."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"ERROR! [DEPRECATED]: community.general.yaml has been removed. The plugin\nhas been superseded by the option result_format=yaml in callback plugin\nansible.builtin.default from ansible-core 2.13 onwards. This feature was\nremoved from community.general in version 12.0.0. Please update your\nplaybooks.\n"})}),"\n",(0,t.jsx)(s.h4,{id:"tls-for-proxysql-is-now-enabled-by-default",children:"TLS for ProxySQL is now enabled by default"}),"\n",(0,t.jsxs)(s.p,{children:["If you are already using ProxySQL, but without TLS, set the following parameter in\n",(0,t.jsx)(s.code,{children:"environments/kolla/configuration.yml"}),"."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-yaml",metastring:'title="environments/kolla/configuration.yml"',children:'database_enable_tls_internal: "no"\n'})}),"\n",(0,t.jsx)(s.h2,{id:"references",children:"References"}),"\n",(0,t.jsx)(s.h3,{id:"ceph-182-reef",children:"Ceph 18.2 (Reef)"}),"\n",(0,t.jsxs)(s.p,{children:["Ceph 18.2 release notes: ",(0,t.jsx)(s.a,{href:"https://docs.ceph.com/en/latest/releases/reef/",children:"https://docs.ceph.com/en/latest/releases/reef/"})]}),"\n",(0,t.jsx)(s.h3,{id:"openstack-20251-epoxy",children:"OpenStack 2025.1 (Epoxy)"}),"\n",(0,t.jsxs)(s.p,{children:["OpenStack 2025.1 release notes: ",(0,t.jsx)(s.a,{href:"https://releases.openstack.org/epoxy/index.html",children:"https://releases.openstack.org/epoxy/index.html"})]}),"\n",(0,t.jsx)(s.p,{children:"Release notes for each OpenStack service:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Barbican: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/barbican/2025.1.html",children:"https://docs.openstack.org/releasenotes/barbican/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Ceilometer: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/ceilometer/2025.1.html",children:"https://docs.openstack.org/releasenotes/ceilometer/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Cinder: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/cinder/2025.1.html",children:"https://docs.openstack.org/releasenotes/cinder/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Designate: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/designate/2025.1.html",children:"https://docs.openstack.org/releasenotes/designate/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Glance: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/glance/2025.1.html",children:"https://docs.openstack.org/releasenotes/glance/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Heat: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/heat/2025.1.html",children:"https://docs.openstack.org/releasenotes/heat/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Horizon: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/horizon/2025.1.html",children:"https://docs.openstack.org/releasenotes/horizon/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Ironic: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/ironic/2025.1.html",children:"https://docs.openstack.org/releasenotes/ironic/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Keystone: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/keystone/2025.1.html",children:"https://docs.openstack.org/releasenotes/keystone/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Kolla-Ansible: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/kolla-ansible/2025.1.html",children:"https://docs.openstack.org/releasenotes/kolla-ansible/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Kolla: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/kolla/2025.1.html",children:"https://docs.openstack.org/releasenotes/kolla/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Manila: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/manila/2025.1.html",children:"https://docs.openstack.org/releasenotes/manila/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Neutron: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/neutron/2025.1.html",children:"https://docs.openstack.org/releasenotes/neutron/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Nova: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/nova/2025.1.html",children:"https://docs.openstack.org/releasenotes/nova/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Octavia: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/octavia/2025.1.html",children:"https://docs.openstack.org/releasenotes/octavia/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Placement: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/placement/2025.1.html",children:"https://docs.openstack.org/releasenotes/placement/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Skyline: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/skyline-apiserver/2025.1.html",children:"https://docs.openstack.org/releasenotes/skyline-apiserver/2025.1.html"}),", ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/skyline-console/2025.1.html",children:"https://docs.openstack.org/releasenotes/skyline-console/2025.1.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Watcher: ",(0,t.jsx)(s.a,{href:"https://docs.openstack.org/releasenotes/watcher/2025.1.html",children:"https://docs.openstack.org/releasenotes/watcher/2025.1.html"})]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>a});var r=n(6540);const t={},i=r.createContext(t);function o(e){const s=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:s},e.children)}}}]);