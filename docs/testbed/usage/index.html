<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-testbed/usage" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Usage | OSISM – Sovereign Cloud Platform</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://osism.tech/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://osism.tech/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://osism.tech/docs/testbed/usage"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Usage | OSISM – Sovereign Cloud Platform"><meta data-rh="true" name="description" content="Deployment must be completed at this point."><meta data-rh="true" property="og:description" content="Deployment must be completed at this point."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://osism.tech/docs/testbed/usage"><link data-rh="true" rel="alternate" href="https://osism.tech/docs/testbed/usage" hreflang="en"><link data-rh="true" rel="alternate" href="https://osism.tech/de/docs/testbed/usage" hreflang="de"><link data-rh="true" rel="alternate" href="https://osism.tech/docs/testbed/usage" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Testbed","item":"https://osism.tech/docs/testbed/"},{"@type":"ListItem","position":2,"name":"Usage","item":"https://osism.tech/docs/testbed/usage"}]}</script><link rel="stylesheet" href="/assets/css/styles.76d018cd.css">
<script src="/assets/js/runtime~main.f5086a99.js" defer="defer"></script>
<script src="/assets/js/main.85405d91.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="OSISM Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="OSISM Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Documentation</a><a class="navbar__item navbar__link" href="/users">Users</a><a class="navbar__item navbar__link" href="/partners">Partners</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/testbed/usage" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/de/docs/testbed/usage" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="mailto:info@osism.tech?subject=OSISM Demo" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Schedule a demo<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Getting started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/guides/">Guides</a><button aria-label="Expand sidebar category &#x27;Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/cloud-in-a-box/">Cloud in a Box</a><button aria-label="Expand sidebar category &#x27;Cloud in a Box&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/testbed/">Testbed</a><button aria-label="Collapse sidebar category &#x27;Testbed&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/testbed/prerequisites">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/testbed/deployment">Deployement</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/testbed/usage">Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/testbed/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/testbed/appendix">Appendix</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/references/">References</a><button aria-label="Expand sidebar category &#x27;References&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/release-notes/">Release Notes</a><button aria-label="Expand sidebar category &#x27;Release Notes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/appendix/">Appendix</a><button aria-label="Expand sidebar category &#x27;Appendix&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/testbed/"><span>Testbed</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Usage</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Usage</h1></header>
<p>Deployment must be completed at this point.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-ca">Custom CA<a href="#custom-ca" class="hash-link" aria-label="Direct link to Custom CA" title="Direct link to Custom CA">​</a></h2>
<p>The OSISM Testbed deployment currently uses hostnames in the domain <code>testbed.osism.xyz</code>. This is a real domain, and we provide the DNS records matching the addresses used in the OSISM Testbed, so that once you connect to your testbed via a direct link or Wireguard, you can access hosts and servers by their hostname (e.g. <code>ssh testbed-manager.testbed.osism.xyz</code>).</p>
<p>We also provide a wildcard TLS certificate signed by a custom CA for <code>testbed.osism.xyz</code> and <code>*.testbed.osism.xyz</code>.
This CA is always used for each testbed. The CA is not regenerated, and it is not planned to change this for the next 10 years.</p>
<p>In order for these certificates to be recognized locally as valid, the CA
<a href="https://raw.githubusercontent.com/osism/testbed/main/environments/kolla/certificates/ca/testbed.crt" target="_blank" rel="noopener noreferrer">environments/kolla/certificates/ca/testbed.crt</a>
must be imported locally.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="vpn-access">VPN access<a href="#vpn-access" class="hash-link" aria-label="Direct link to VPN access" title="Direct link to VPN access">​</a></h2>
<p>You can connect to <a href="https://regio.digital" target="_blank" rel="noopener noreferrer">REGIO.cloud</a> either by using Wireguard, or sshuttle.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wireguard">Wireguard<a href="#wireguard" class="hash-link" aria-label="Direct link to Wireguard" title="Direct link to Wireguard">​</a></h3>
<p>Install <a href="https://www.wireguard.com" target="_blank" rel="noopener noreferrer">Wireguard</a> on your workstation. For instructions on how to do
it on your workstation, please have a look at the documentation of your used distribution.</p>
<p>Start the wireguard tunnel. (Press <code>CTRL+C</code> to keep the tunnel running forever. The <code>make target</code> also launches a browser tab with references to all services.)</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">make vpn-wireguard ENVIRONMENT=regiocloud</span><br></span></code></pre></div></div>
<p>If you want to connect to the OSISM Testbed from multiple clients, change the client IP
address in the downloaded configuration file to be different on each client.</p>
<p>If you only want to download the Wireguard configuration, you can use the <code>vpn-wireguard-config</code>
target. The configuration is then available in the file <code>wg-testbed-regiocloud.conf</code>, for example.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">make vpn-wireguard-config ENVIRONMENT=regiocloud</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sshuttle">sshuttle<a href="#sshuttle" class="hash-link" aria-label="Direct link to sshuttle" title="Direct link to sshuttle">​</a></h3>
<p>Install <a href="https://github.com/sshuttle/sshuttle" target="_blank" rel="noopener noreferrer">sshuttle</a> on your workstation, then start the sshuttle tunnel.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">make vpn-sshuttle ENVIRONMENT=regiocloud</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">killall sshuttle</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="webinterfaces">Webinterfaces<a href="#webinterfaces" class="hash-link" aria-label="Direct link to Webinterfaces" title="Direct link to Webinterfaces">​</a></h2>
<p>All SSL-enabled services within the OSISM Testbed use certs which are signed by the self-signed
<a href="https://raw.githubusercontent.com/osism/testbed/main/environments/kolla/certificates/ca/testbed.crt" target="_blank" rel="noopener noreferrer">OSISM Testbed CA</a>
(Download the file and import it as certification authority to your browser).</p>
<p>If you want to access the services, please choose the URL from the following table:</p>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">URL</th><th style="text-align:left">Username</th><th style="text-align:left">Password</th><th style="text-align:left">Note</th></tr></thead><tbody><tr><td style="text-align:left">ARA</td><td style="text-align:left"><a href="https://ara.testbed.osism.xyz" target="_blank" rel="noopener noreferrer">https://ara.testbed.osism.xyz</a></td><td style="text-align:left">ara</td><td style="text-align:left">password</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">Ceph</td><td style="text-align:left"><a href="https://api-int.testbed.osism.xyz:8140" target="_blank" rel="noopener noreferrer">https://api-int.testbed.osism.xyz:8140</a></td><td style="text-align:left">admin</td><td style="text-align:left">password</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">Flower</td><td style="text-align:left"><a href="https://flower.testbed.osism.xyz" target="_blank" rel="noopener noreferrer">https://flower.testbed.osism.xyz</a></td><td style="text-align:left"></td><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left">Grafana</td><td style="text-align:left"><a href="https://api-int.testbed.osism.xyz:3000" target="_blank" rel="noopener noreferrer">https://api-int.testbed.osism.xyz:3000</a></td><td style="text-align:left">admin</td><td style="text-align:left">password</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">HAProxy (testbed-node-0)</td><td style="text-align:left"><a href="http://testbed-node-0.testbed.osism.xyz:1984" target="_blank" rel="noopener noreferrer">http://testbed-node-0.testbed.osism.xyz:1984</a></td><td style="text-align:left">openstack</td><td style="text-align:left">password</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">HAProxy (testbed-node-1)</td><td style="text-align:left"><a href="http://testbed-node-1.testbed.osism.xyz:1984" target="_blank" rel="noopener noreferrer">http://testbed-node-1.testbed.osism.xyz:1984</a></td><td style="text-align:left">openstack</td><td style="text-align:left">password</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">HAProxy (testbed-node-2)</td><td style="text-align:left"><a href="http://testbed-node-2.testbed.osism.xyz:1984" target="_blank" rel="noopener noreferrer">http://testbed-node-2.testbed.osism.xyz:1984</a></td><td style="text-align:left">openstack</td><td style="text-align:left">password</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">Homer</td><td style="text-align:left"><a href="https://homer.testbed.osism.xyz" target="_blank" rel="noopener noreferrer">https://homer.testbed.osism.xyz</a></td><td style="text-align:left"></td><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left">Horizon (via Keystone)</td><td style="text-align:left"><a href="https://api.testbed.osism.xyz" target="_blank" rel="noopener noreferrer">https://api.testbed.osism.xyz</a></td><td style="text-align:left">admin</td><td style="text-align:left">password</td><td style="text-align:left">domain: default</td></tr><tr><td style="text-align:left">Horizon (via Keystone)</td><td style="text-align:left"><a href="https://api.testbed.osism.xyz" target="_blank" rel="noopener noreferrer">https://api.testbed.osism.xyz</a></td><td style="text-align:left">test</td><td style="text-align:left">test</td><td style="text-align:left">domain: test</td></tr><tr><td style="text-align:left">Netbox</td><td style="text-align:left"><a href="https://netbox.testbed.osism.xyz" target="_blank" rel="noopener noreferrer">https://netbox.testbed.osism.xyz</a></td><td style="text-align:left">admin</td><td style="text-align:left">password</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">Netdata</td><td style="text-align:left"><a href="http://testbed-manager.testbed.osism.xyz:19999" target="_blank" rel="noopener noreferrer">http://testbed-manager.testbed.osism.xyz:19999</a></td><td style="text-align:left"></td><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left">Nexus</td><td style="text-align:left"><a href="https://nexus.testbed.osism.xyz" target="_blank" rel="noopener noreferrer">https://nexus.testbed.osism.xyz</a></td><td style="text-align:left">admin</td><td style="text-align:left">password</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">OpenSearch Dashboards</td><td style="text-align:left"><a href="https://api.testbed.osism.xyz:5601" target="_blank" rel="noopener noreferrer">https://api.testbed.osism.xyz:5601</a></td><td style="text-align:left">opensearch</td><td style="text-align:left">password</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">Prometheus</td><td style="text-align:left"><a href="https://api-int.testbed.osism.xyz:9091" target="_blank" rel="noopener noreferrer">https://api-int.testbed.osism.xyz:9091</a></td><td style="text-align:left">admin</td><td style="text-align:left">password</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">RabbitMQ</td><td style="text-align:left"><a href="https://api-int.testbed.osism.xyz:15672" target="_blank" rel="noopener noreferrer">https://api-int.testbed.osism.xyz:15672</a></td><td style="text-align:left">openstack</td><td style="text-align:left">password</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">phpMyAdmin</td><td style="text-align:left"><a href="https://phpmyadmin.testbed.osism.xyz" target="_blank" rel="noopener noreferrer">https://phpmyadmin.testbed.osism.xyz</a></td><td style="text-align:left">root</td><td style="text-align:left">password</td><td style="text-align:left"></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-of-the-openstack-cli">Usage of the OpenStack CLI<a href="#usage-of-the-openstack-cli" class="hash-link" aria-label="Direct link to Usage of the OpenStack CLI" title="Direct link to Usage of the OpenStack CLI">​</a></h3>
<p>The <code>environments/openstack</code> folder contains the needed files for the openstack client:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd environments/openstack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export OS_CLOUD=&lt;the cloud environment&gt;  # i.e. admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openstack floating ip list</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-usage">Advanced Usage<a href="#advanced-usage" class="hash-link" aria-label="Direct link to Advanced Usage" title="Direct link to Advanced Usage">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="external-api">External API<a href="#external-api" class="hash-link" aria-label="Direct link to External API" title="Direct link to External API">​</a></h3>
<p>It is possible to provide the OpenStack APIs and the OpenStack Dashboard via the manager&#x27;s public IP address.
This is not enabled by default, except for the OTC profile. To provide the OpenStack APIs and the
OpenStack dashboard via the public IP address of the manager, the following changes are necessary in the
<code>terraform/environments/regiocloud.tfvars</code> file. If a cloud other than the REGIO.cloud is used, the profile
of the other cloud is changed accordingly.</p>
<ol>
<li>
<p>Add the customization <code>external_api</code>. This customization makes sure that the required security group rules
are created for the various OpenStack APIs and the OpenStack dashboard.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># customisation:external_api</span><br></span></code></pre></div></div>
</li>
<li>
<p>Set parameter <code>external_api</code> to <code>true</code>. This makes sure that all necessary changes are made in the configuration repository when the manager service is deployed. It is correct that this is added as a comment.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">external_api = true</span><br></span></code></pre></div></div>
</li>
<li>
<p>After the deployment of the manager service and the OpenStack services, the OpenStack APIs and the OpenStack dashboard can be reached via a DNS name. The service <a href="https://traefik.me" target="_blank" rel="noopener noreferrer">traefik.me</a> is used for the DNS record. Run the following two commands on the manager node to get the DNS record.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ source /opt/manager-vars.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ echo &quot;api-${MANAGER_PUBLIC_IP_ADDRESS//./-}.traefik.me&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api-80-158-46-219.traefik.me</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="change-versions">Change versions<a href="#change-versions" class="hash-link" aria-label="Direct link to Change versions" title="Direct link to Change versions">​</a></h3>
<ol>
<li>Go to <code>/opt/configuration</code> on <code>testbed-manager</code></li>
<li>Run <code>./scripts/set-openstack-version.sh 2024.2</code> to set the OpenStack version to <code>2024.2</code></li>
<li>Run <code>./scripts/set-ceph-version.sh reef</code> to set the Ceph version to <code>reef</code></li>
<li>Run <code>osism update manager</code> to update the manager service</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-services">Deploy services<a href="#deploy-services" class="hash-link" aria-label="Direct link to Deploy services" title="Direct link to Deploy services">​</a></h3>
<table><thead><tr><th style="text-align:left">Script</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>/opt/configuration/scripts/deploy/000-manager.sh</code></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>/opt/configuration/scripts/deploy/001-helpers.sh</code></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>/opt/configuration/scripts/deploy/100-ceph-with-ansible.sh</code></td><td style="text-align:left">Ceph with Ansible</td></tr><tr><td style="text-align:left"><code>/opt/configuration/scripts/deploy/100-ceph-with-rook.sh</code></td><td style="text-align:left">Ceph with Rook</td></tr><tr><td style="text-align:left"><code>/opt/configuration/scripts/deploy/200-infrastructure.sh</code></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>/opt/configuration/scripts/deploy/300-openstack.sh</code></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>/opt/configuration/scripts/deploy/310-openstack-extended.sh</code></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>/opt/configuration/scripts/deploy/400-monitoring.sh</code></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>/opt/configuration/scripts/deploy/500-kubernetes.sh</code></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>/opt/configuration/scripts/deploy/510-clusterapi.sh</code></td><td style="text-align:left"></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-services">Upgrade services<a href="#upgrade-services" class="hash-link" aria-label="Direct link to Upgrade services" title="Direct link to Upgrade services">​</a></h3>
<table><thead><tr><th style="text-align:left">Script</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>/opt/configuration/scripts/upgrade/100-ceph-with-ansible.sh</code></td><td style="text-align:left">Ceph with Ansible</td></tr><tr><td style="text-align:left"><code>/opt/configuration/scripts/upgrade/100-ceph-with-rook.sh</code></td><td style="text-align:left">Ceph with Rook</td></tr><tr><td style="text-align:left"><code>/opt/configuration/scripts/upgrade/200-infrastructure.sh</code></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>/opt/configuration/scripts/upgrade/300-openstack.sh</code></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>/opt/configuration/scripts/upgrade/310-openstack-extended.sh</code></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>/opt/configuration/scripts/upgrade/400-monitoring.sh</code></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>/opt/configuration/scripts/upgrade/500-kubernetes.sh</code></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>/opt/configuration/scripts/upgrade/510-clusterapi.sh</code></td><td style="text-align:left"></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-new-osd-in-ceph">Add new OSD in Ceph<a href="#add-new-osd-in-ceph" class="hash-link" aria-label="Direct link to Add new OSD in Ceph" title="Direct link to Add new OSD in Ceph">​</a></h3>
<p>In the testbed, three volumes per node are provided for use by Ceph by default. Two of
these devices are used as OSDs during the initial deployment. The third device is intended
for testing the addition of a further OSD to the Ceph cluster.</p>
<ol>
<li>Add <code>sdd</code> to <code>ceph_osd_devices</code> in <code>/opt/configuration/inventory/host_vars/testbed-node-0/ceph-lvm-configuration.yml</code>.</li>
</ol>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>The following content is an example, the IDs look different everywhere. Do not copy 1:1 but only add <code>sdd</code> to the file.</p></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># This is Ceph LVM configuration for testbed-node-0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># generated by ceph-configure-lvm-volumes playbook.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">ceph_osd_devices</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sdb</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">osd_lvm_uuid</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 95a9a2e0</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">b23f</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">55b2</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">a04f</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">e02ddfc0e82a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sdc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">osd_lvm_uuid</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 29899765</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">42bf</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">557b</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ae9c</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">5c7c984b2243</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sdd</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">lvm_volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> osd</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">block</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">95a9a2e0</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">b23f</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">55b2</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">a04f</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">e02ddfc0e82a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">data_vg</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ceph</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">95a9a2e0</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">b23f</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">55b2</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">a04f</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">e02ddfc0e82a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> osd</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">block</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">29899765</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">42bf</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">557b</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ae9c</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">5c7c984b2243</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">data_vg</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ceph</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">29899765</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">42bf</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">557b</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ae9c</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">5c7c984b2243</span><br></span></code></pre></div></div>
<ol start="2">
<li>
<p>Run <code>osism apply ceph-configure-lvm-volumes -l testbed-node-0</code></p>
</li>
<li>
<p>Run <code>cp /tmp/testbed-node-0-ceph-lvm-configuration.yml /opt/configuration/inventory/host_vars/testbed-node-0/ceph-lvm-configuration.yml</code>.</p>
</li>
<li>
<p>Run <code>osism reconciler sync</code></p>
</li>
<li>
<p>Run <code>osism apply ceph-create-lvm-devices -l testbed-node-0</code></p>
</li>
<li>
<p>Run <code>osism apply ceph-osds -l testbed-node-0 -e ceph_handler_osds_restart=false</code></p>
</li>
<li>
<p>Check the OSD tree</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ceph osd tree</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ID  CLASS  WEIGHT   TYPE NAME                STATUS  REWEIGHT  PRI-AFF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1         0.13640  root default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-3         0.05846      host testbed-node-0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2    hdd  0.01949          osd.2                up   1.00000  1.00000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 4    hdd  0.01949          osd.4                up   1.00000  1.00000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 6    hdd  0.01949          osd.6                up   1.00000  1.00000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-5         0.03897      host testbed-node-1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0    hdd  0.01949          osd.0                up   1.00000  1.00000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 5    hdd  0.01949          osd.5                up   1.00000  1.00000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-7         0.03897      host testbed-node-2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1    hdd  0.01949          osd.1                up   1.00000  1.00000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 3    hdd  0.01949          osd.3                up   1.00000  1.00000</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ceph-via-rook-technical-preview">Ceph via Rook (technical preview)<a href="#ceph-via-rook-technical-preview" class="hash-link" aria-label="Direct link to Ceph via Rook (technical preview)" title="Direct link to Ceph via Rook (technical preview)">​</a></h3>
<p>Please have a look at <a href="/docs/guides/deploy-guide/services/ceph/rook">Deploy Guide - Services - Rook</a> and <a href="/docs/guides/configuration-guide/ceph/rook">Configuration Guide - Rook</a> for details on how to configure Rook.</p>
<p>To deploy this in the testbed, you can use an environment variable in your make target.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">make CEPH_STACK=rook manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make CEPH_STACK=rook ceph</span><br></span></code></pre></div></div>
<p>This will make sure <code>/opt/manager-vars.sh</code> gets <code>CEPH_STACK=rook</code> set which is later being used by:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/opt/configuration/scripts/deploy-services.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/opt/configuration/scripts/deploy-ceph.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/opt/configuration/scripts/upgrade/100-ceph-with-rook.sh</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-testbed-for-openstack-development">Using testbed for OpenStack development<a href="#using-testbed-for-openstack-development" class="hash-link" aria-label="Direct link to Using testbed for OpenStack development" title="Direct link to Using testbed for OpenStack development">​</a></h2>
<p>Testbed may be used for doing development on OpenStack services through <a href="https://docs.openstack.org/kolla-ansible/latest/contributor/kolla-for-openstack-development.html" target="_blank" rel="noopener noreferrer"><code>kolla_dev_mode</code></a>.
<code>kolla_dev_mode</code> may be activated for all supported service by adding</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kolla_dev_mode: true</span><br></span></code></pre></div></div>
<p>to <code>environments/kolla/configuration.yml</code>. This will check out the <code>git</code> repositories of all supported and enabled OpenStack services under <code>/opt/stack</code>, and bind mount them into the appropriate containers.
Since this will fetch a lot of repositories it is advisable to enable this only selectively for the services you are going to work on. You can do so by adding a boolean variable to <code>environments/kolla/configuration.yml</code> consisting of the service name and the suffix <code>_dev_mode</code>, e.g.:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cinder_dev_mode: true</span><br></span></code></pre></div></div>
<p>You may customise the used <code>git</code> repository by adding <code>kolla_repos_git</code> to <code>environments/kolla/configuration.yml</code> to specify a common root for the repositories of all services, which will be completed by the service&#x27;s name, e.g.:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kolla_repos_git: &quot;https://github.com/openstack&quot;</span><br></span></code></pre></div></div>
<p>This will pull services from their <code>github</code> mirror. E.g. pull nova from <a href="https://github.com/openstack/nova" target="_blank" rel="noopener noreferrer">https://github.com/openstack/nova</a>
The complete repository of a single service may be changed by adding a variable consisting of the service name and the suffix <code>_git_repository</code>, e.g.:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cinder_git_repository: &quot;https://github.com/myorg/my_custom_cinder_fork&quot;</span><br></span></code></pre></div></div>
<p>You may specify the <code>git</code> reference globally by setting</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kolla_source_version: my_feature_branch</span><br></span></code></pre></div></div>
<p>in <code>environments/kolla/configuration.yml</code>, or for specific services, via service name and suffix <code>_source_version</code>, e.g.:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cinder_source_version: my_cinder_feature</span><br></span></code></pre></div></div>
<p>In order to update the <code>git</code> repositories on <code>kolla-ansible</code> deployments set either</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kolla_dev_repos_pull: true</span><br></span></code></pre></div></div>
<p>or</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cinder_dev_repos_pull: true</span><br></span></code></pre></div></div>
<p>in <code>environments/kolla/configuration.yml</code> to set the setting for all repositories, or a service specific one.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-workflow">Example workflow<a href="#example-workflow" class="hash-link" aria-label="Direct link to Example workflow" title="Direct link to Example workflow">​</a></h3>
<p>Thus, as an example for a development workflow:</p>
<ul>
<li>Create a <code>git</code> mirror of the OpenStack service you want to work on</li>
<li>In <code>environments/kolla/configuration.yml</code>:<!-- -->
<ul>
<li>Set the corresponding <code>&lt;service name&gt;_dev_mode</code> variable to <code>true</code></li>
<li>Set the corresponding <code>&lt;service name&gt;_git_repository</code> variable to your development mirror created above</li>
<li>Set the corresponding <code>&lt;service name&gt;_source_version</code> variable to a branch name you intend to push your changes to</li>
<li>Set the corresponding <code>&lt;service name&gt;_dev_repos_pull</code> variable to <code>true</code></li>
</ul>
</li>
<li>Commit your changes and push them to the specified branch in the specified mirror</li>
<li>Run <code>osism apply &lt;service name&gt;</code> on the manager to checkout the code on every testbed node</li>
<li>Restart the service containers to actually pick up the new code</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/osism/osism.github.io/tree/main/docs/testbed/usage.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/testbed/deployment"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Deployement</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/testbed/troubleshooting"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Troubleshooting</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#custom-ca" class="table-of-contents__link toc-highlight">Custom CA</a></li><li><a href="#vpn-access" class="table-of-contents__link toc-highlight">VPN access</a><ul><li><a href="#wireguard" class="table-of-contents__link toc-highlight">Wireguard</a></li><li><a href="#sshuttle" class="table-of-contents__link toc-highlight">sshuttle</a></li></ul></li><li><a href="#webinterfaces" class="table-of-contents__link toc-highlight">Webinterfaces</a><ul><li><a href="#usage-of-the-openstack-cli" class="table-of-contents__link toc-highlight">Usage of the OpenStack CLI</a></li></ul></li><li><a href="#advanced-usage" class="table-of-contents__link toc-highlight">Advanced Usage</a><ul><li><a href="#external-api" class="table-of-contents__link toc-highlight">External API</a></li><li><a href="#change-versions" class="table-of-contents__link toc-highlight">Change versions</a></li><li><a href="#deploy-services" class="table-of-contents__link toc-highlight">Deploy services</a></li><li><a href="#upgrade-services" class="table-of-contents__link toc-highlight">Upgrade services</a></li><li><a href="#add-new-osd-in-ceph" class="table-of-contents__link toc-highlight">Add new OSD in Ceph</a></li><li><a href="#ceph-via-rook-technical-preview" class="table-of-contents__link toc-highlight">Ceph via Rook (technical preview)</a></li></ul></li><li><a href="#using-testbed-for-openstack-development" class="table-of-contents__link toc-highlight">Using testbed for OpenStack development</a><ul><li><a href="#example-workflow" class="table-of-contents__link toc-highlight">Example workflow</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/appendix/comparisons">Comparisons</a></li><li class="footer__item"><a class="footer__link-item" href="/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/users">Users</a></li><li class="footer__item"><a class="footer__link-item" href="/partners">Partners</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">External links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/company/osism/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/osism" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/osism/issues/issues/new/choose" target="_blank" rel="noopener noreferrer" class="footer__link-item">Open issue on GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://zuul.services.betacloud.xyz/t/osism/status" target="_blank" rel="noopener noreferrer" class="footer__link-item">Zuul CI<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://regiocloud.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">REGIO.cloud<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.sovereigncloudstack.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sovereign Cloud Stack<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/about-us">About Us</a></li><li class="footer__item"><a class="footer__link-item" href="/contact-us">Contact Us</a></li><li class="footer__item"><a href="mailto:info@osism.tech?subject=OSISM Demo" target="_blank" rel="noopener noreferrer" class="footer__link-item">Schedule a demo<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/support">Support</a></li><li class="footer__item"><a class="footer__link-item" href="/jobs">Jobs</a></li><li class="footer__item"><a class="footer__link-item" href="/privacy">Privacy Policy</a></li><li class="footer__item"><a class="footer__link-item" href="/terms">Terms &amp; Conditions</a></li><li class="footer__item"><a class="footer__link-item" href="/legals">Legals</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 OSISM GmbH. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>